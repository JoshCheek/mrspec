#!/usr/bin/env ruby

$LOAD_PATH.unshift File.expand_path("../../lib", __FILE__)
require 'mrspec'

# All your config are belong to us
RSpec.configuration = MRspec::Configuration.new

# Use our option parser instead of RSpec's
RSpec::Core::Parser.parser_method = RSpec::Core::Parser.instance_method :mrspec_parser

# Run tests with our runner at program exit
MRspec::Runner.autorun

# Disable RSpec and Minitest's autorun methods
# so that loading tests doesn't lead to multiple runners
RSpec::Core::Runner.define_singleton_method(:autorun) { }
Minitest.define_singleton_method(:autorun) { }
